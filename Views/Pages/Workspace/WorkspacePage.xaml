<Page
    x:Class="TFG.Views.Pages.WorkSpacePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:TFG.Views.Pages"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:viewmodels="clr-namespace:TFG.ViewModels"
    x:Name="WorkspacePage"
    d:DataContext="{d:DesignInstance Type=viewmodels:WorkSpaceViewModel}"
    d:DesignHeight="720"
    d:DesignWidth="1280"
    mc:Ignorable="d">

    <Border
        Margin="8"
        Background="#323232"
        CornerRadius="16">
        <StackPanel>
            <!--  Workspace: Settings  -->
            <Grid Margin="20,0,20,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="auto" />
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>

                    <!--  CRUD Workspaces  -->
                    <Menu
                        Grid.Column="0"
                        HorizontalAlignment="Left"
                        FontFamily="Fira Code"
                        FontSize="20"
                        FontWeight="Bold"
                        Foreground="White">
                        <ui:MenuItem Header="File">
                            <ui:MenuItem
                                Command="{Binding AddContainerCommand}"
                                Header="Add Workspace"
                                Icon="{ui:SymbolIcon Add12,
                                                     Filled=True}" />
                            <ui:MenuItem
                                Command="{Binding EditContainerCommand}"
                                Header="Edit Workspace"
                                Icon="{ui:SymbolIcon Edit16,
                                                     Filled=True}" />
                            <ui:MenuItem
                                Command="{Binding DeleteContainerCommand}"
                                Header="Delete Workspace"
                                Icon="{ui:SymbolIcon Delete16,
                                                     Filled=True}" />
                        </ui:MenuItem>
                        <ui:MenuItem x:Name="Workspaces" Header="Workspaces">
                            <ItemsControl ItemsSource="{Binding ContainerNames}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <ui:MenuItem
                                            Command="{Binding Path=DataContext.ContentContainerCommand, ElementName=Workspaces}"
                                            CommandParameter="{Binding}"
                                            Header="{Binding}" />
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ui:MenuItem>
                    </Menu>

                    <!--  Information Workspace  -->
                    <Menu
                        Grid.Row="0"
                        Grid.Column="1"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        FontSize="20"
                        FontWeight="Bold"
                        Foreground="White">
                        <ui:MenuItem
                            Command="{Binding ContainerCommand}"
                            Header="{Binding SelectedContainerName}"
                            Icon="{ui:SymbolIcon WhiteBoard20,
                                                 Filled=True}" />
                    </Menu>

                </Grid>

                <!--  Profile  -->
                <Menu
                    Grid.Column="2"
                    HorizontalAlignment="Right"
                    FontFamily="Fira Code"
                    FontSize="20"
                    FontWeight="Bold"
                    Foreground="White">
                    <ui:MenuItem
                        Command="{Binding UserProfileCommand}"
                        Header="Profile"
                        Icon="{ui:SymbolIcon Person20,
                                             Filled=True}" />
                </Menu>
            </Grid>

            <!--  Workspace: Kanban  -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>


                <!--  Card: TODO  -->
                <ui:Card
                    Grid.Column="0"
                    Margin="4"
                    VerticalAlignment="Top">
                    <!--  Establece la altura máxima igual a la altura de la ventana  -->
                    <!--  Background: Card  -->
                    <ui:Card.Background>
                        <SolidColorBrush Opacity="0.30" Color="#080808" />
                    </ui:Card.Background>
                    <!--  BorderColor: Card  -->
                    <ui:Card.BorderBrush>
                        <SolidColorBrush Opacity="0.25" Color="White" />
                    </ui:Card.BorderBrush>
                    <!--  Container Task: TODO  -->
                    <StackPanel>
                        <Grid>
                            <Grid.Background>
                                <SolidColorBrush Opacity="0.45" Color="#0d0d0d" />
                            </Grid.Background>
                            <ui:TextBlock
                                Margin="0,8,0,8"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontSize="24"
                                FontWeight="Bold"
                                Text="TODO" />
                        </Grid>
                        <Separator
                            Height="4"
                            Margin="0,0,0.5,2"
                            Background="AliceBlue"
                            Opacity="0.30" />
                        <ScrollViewer MaxHeight="455" HorizontalScrollBarVisibility="Auto">
                            <StackPanel>
                                <StackPanel.Background>
                                    <SolidColorBrush Opacity="0.60" Color="#2b2b2b" />
                                </StackPanel.Background>
                                <!--  Dynamic Elements  -->
                                <ui:ListView
                                    Grid.Column="0"
                                    ItemsSource="{Binding ToDoTasks}"
                                    SelectedItem="{Binding SelectedTask, Mode=TwoWay}"
                                    SelectionMode="Single">
                                    <ui:ListView.ItemTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="auto" />
                                                </Grid.ColumnDefinitions>
                                                <ui:Button
                                                    Grid.ColumnSpan="2"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    HorizontalContentAlignment="Center"
                                                    Command="{Binding Path=DataContext.ContentTaskCommand, ElementName=WorkspacePage}"
                                                    CommandParameter="{Binding}">
                                                    <StackPanel MaxWidth="600">
                                                        <!--  Task name  -->
                                                        <TextBlock
                                                            Grid.Row="0"
                                                            Margin="0,0,8,0"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            FontWeight="Bold"
                                                            Text="{Binding NombreTarea, Mode=OneWay}"
                                                            TextWrapping="Wrap" />

                                                        <!--  Task Tags  -->
                                                        <ItemsControl
                                                            Grid.Row="1"
                                                            Margin="0,8,0,8"
                                                            ItemsSource="{Binding EtiquetasTarea, Mode=OneWay}">
                                                            <ItemsControl.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal" />
                                                                </ItemsPanelTemplate>
                                                            </ItemsControl.ItemsPanel>
                                                            <ItemsControl.ItemTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock
                                                                        Margin="0,0,4,0"
                                                                        HorizontalAlignment="Left"
                                                                        FontSize="12"
                                                                        Foreground="LightBlue">
                                                                        <TextBlock.Text>
                                                                            <MultiBinding StringFormat="{}#{0}">
                                                                                <Binding />
                                                                            </MultiBinding>
                                                                        </TextBlock.Text>
                                                                    </TextBlock>
                                                                </DataTemplate>
                                                            </ItemsControl.ItemTemplate>
                                                        </ItemsControl>
                                                    </StackPanel>
                                                </ui:Button>
                                                <ui:Button
                                                    Grid.Column="3"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    HorizontalContentAlignment="Center"
                                                    Icon="{ui:SymbolIcon IosArrowRtl24}" />
                                            </Grid>
                                        </DataTemplate>
                                    </ui:ListView.ItemTemplate>
                                </ui:ListView>
                            </StackPanel>
                        </ScrollViewer>
                        <!--  Button: Add Task  -->
                        <ui:Button
                            Height="36"
                            Margin="0,12,0,0"
                            HorizontalAlignment="Stretch"
                            Command="{Binding AddTaskCommand}"
                            CommandParameter="Pendiente">
                            <ui:TextBlock>Add Task</ui:TextBlock>
                        </ui:Button>
                    </StackPanel>
                </ui:Card>

                <!--  Card: On Hold  -->
                <ui:Card
                    Grid.Column="1"
                    Margin="4"
                    VerticalAlignment="Top">
                    <!--  Background: Card  -->
                    <ui:Card.Background>
                        <SolidColorBrush Opacity="0.30" Color="#156593" />
                    </ui:Card.Background>
                    <!--  BorderColor: Card  -->
                    <ui:Card.BorderBrush>
                        <SolidColorBrush Opacity="0.25" Color="White" />
                    </ui:Card.BorderBrush>
                    <!--  Container Task: On Hold  -->
                    <StackPanel>
                        <Grid>
                            <Grid.Background>
                                <SolidColorBrush Opacity="0.45" Color="#071018" />
                            </Grid.Background>
                            <ui:TextBlock
                                Margin="0,8,0,8"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontSize="24"
                                FontWeight="Bold"
                                Text="ON HOLD" />
                        </Grid>
                        <Separator
                            Height="4"
                            Margin="0,0,0.5,2"
                            Background="AliceBlue"
                            Opacity="0.30" />
                        <ScrollViewer MaxHeight="455" HorizontalScrollBarVisibility="Auto">
                            <StackPanel>
                                <StackPanel.Background>
                                    <SolidColorBrush Opacity="0.15" Color="#081a2b" />
                                </StackPanel.Background>

                                <!--  Dynamic Elements  -->
                                <ui:ListView
                                    Grid.Column="0"
                                    ItemsSource="{Binding OnHoldTasks}"
                                    SelectedItem="{Binding SelectedTask, Mode=TwoWay}">
                                    <ui:ListView.ItemTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="auto" />
                                                </Grid.ColumnDefinitions>
                                                <ui:Button
                                                    Grid.Column="1"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    HorizontalContentAlignment="Center"
                                                    Command="{Binding Path=DataContext.ContentTaskCommand, ElementName=WorkspacePage}"
                                                    CommandParameter="{Binding}">
                                                    <StackPanel MaxWidth="600">
                                                        <!--  Task name  -->
                                                        <TextBlock
                                                            Grid.Row="0"
                                                            Margin="0,0,8,0"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            FontWeight="Bold"
                                                            Text="{Binding NombreTarea, Mode=OneWay}"
                                                            TextWrapping="Wrap" />

                                                        <!--  Task Tags  -->
                                                        <ItemsControl
                                                            Grid.Row="1"
                                                            Margin="0,8,0,8"
                                                            ItemsSource="{Binding EtiquetasTarea, Mode=OneWay}">
                                                            <ItemsControl.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal" />
                                                                </ItemsPanelTemplate>
                                                            </ItemsControl.ItemsPanel>
                                                            <ItemsControl.ItemTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock
                                                                        Margin="0,0,4,0"
                                                                        HorizontalAlignment="Left"
                                                                        FontSize="12"
                                                                        Foreground="LightBlue">
                                                                        <TextBlock.Text>
                                                                            <MultiBinding StringFormat="{}#{0}">
                                                                                <Binding />
                                                                            </MultiBinding>
                                                                        </TextBlock.Text>
                                                                    </TextBlock>
                                                                </DataTemplate>
                                                            </ItemsControl.ItemTemplate>
                                                        </ItemsControl>
                                                    </StackPanel>
                                                </ui:Button>
                                                <ui:Button
                                                    Grid.Column="3"
                                                    Margin="4,0,0,0"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    HorizontalContentAlignment="Center"
                                                    Icon="{ui:SymbolIcon IosArrowRtl24,
                                                                         Filled=True}" />
                                                <ui:Button
                                                    Grid.Column="0"
                                                    Margin="0,0,4,0"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    HorizontalContentAlignment="Center"
                                                    Icon="{ui:SymbolIcon IosArrowLtr24,
                                                                         Filled=True}" />
                                            </Grid>
                                        </DataTemplate>
                                    </ui:ListView.ItemTemplate>
                                </ui:ListView>
                            </StackPanel>
                        </ScrollViewer>
                        <!--  Button: Add Task  -->
                        <ui:Button
                            Height="36"
                            Margin="0,12,0,0"
                            HorizontalAlignment="Stretch"
                            Command="{Binding AddTaskCommand}"
                            CommandParameter="En espera">
                            <ui:TextBlock>Add Task</ui:TextBlock>
                        </ui:Button>
                    </StackPanel>
                </ui:Card>

                <!--  Card: In Progress  -->
                <ui:Card
                    Grid.Column="2"
                    Margin="4"
                    VerticalAlignment="Top">
                    <!--  Background: Card  -->
                    <ui:Card.Background>
                        <SolidColorBrush Opacity="0.30" Color="#372442" />
                    </ui:Card.Background>
                    <!--  BorderColor: Card  -->
                    <ui:Card.BorderBrush>
                        <SolidColorBrush Opacity="0.25" Color="White" />
                    </ui:Card.BorderBrush>
                    <!--  Container Task: In Progress  -->
                    <StackPanel>
                        <Grid>
                            <Grid.Background>
                                <SolidColorBrush Opacity="0.45" Color="#1b1221" />
                            </Grid.Background>
                            <ui:TextBlock
                                Margin="0,8,0,8"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontSize="24"
                                FontWeight="Bold"
                                Text="IN PROGRESS" />
                        </Grid>
                        <Separator
                            Height="4"
                            Margin="0,0,0.5,2"
                            Background="AliceBlue"
                            Opacity="0.30" />
                        <ScrollViewer MaxHeight="455" HorizontalScrollBarVisibility="Auto">
                            <StackPanel>
                                <StackPanel.Background>
                                    <SolidColorBrush Opacity="0.15" Color="MediumPurple" />
                                </StackPanel.Background>

                                <!--  Dynamic Elements  -->
                                <ui:ListView
                                    Grid.Column="0"
                                    ItemsSource="{Binding InProgressTasks}"
                                    SelectedItem="{Binding SelectedTask, Mode=TwoWay}">
                                    <ui:ListView.ItemTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="auto" />
                                                </Grid.ColumnDefinitions>
                                                <ui:Button
                                                    Grid.Column="1"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    HorizontalContentAlignment="Center"
                                                    Command="{Binding Path=DataContext.ContentTaskCommand, ElementName=WorkspacePage}"
                                                    CommandParameter="{Binding}">
                                                    <StackPanel MaxWidth="600">
                                                        <!--  Task name  -->
                                                        <TextBlock
                                                            Grid.Row="0"
                                                            Margin="0,0,8,0"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            FontWeight="Bold"
                                                            Text="{Binding NombreTarea, Mode=OneWay}"
                                                            TextWrapping="Wrap" />

                                                        <!--  Task Tags  -->
                                                        <ItemsControl
                                                            Grid.Row="1"
                                                            Margin="0,8,0,8"
                                                            ItemsSource="{Binding EtiquetasTarea, Mode=OneWay}">
                                                            <ItemsControl.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal" />
                                                                </ItemsPanelTemplate>
                                                            </ItemsControl.ItemsPanel>
                                                            <ItemsControl.ItemTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock
                                                                        Margin="0,0,4,0"
                                                                        HorizontalAlignment="Left"
                                                                        FontSize="12"
                                                                        Foreground="LightBlue">
                                                                        <TextBlock.Text>
                                                                            <MultiBinding StringFormat="{}#{0}">
                                                                                <Binding />
                                                                            </MultiBinding>
                                                                        </TextBlock.Text>
                                                                    </TextBlock>
                                                                </DataTemplate>
                                                            </ItemsControl.ItemTemplate>
                                                        </ItemsControl>
                                                    </StackPanel>
                                                </ui:Button>
                                                <ui:Button
                                                    Grid.Column="3"
                                                    Margin="4,0,0,0"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    HorizontalContentAlignment="Center"
                                                    Icon="{ui:SymbolIcon IosArrowRtl24,
                                                                         Filled=True}" />
                                                <ui:Button
                                                    Grid.Column="0"
                                                    Margin="0,0,4,0"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    HorizontalContentAlignment="Center"
                                                    Icon="{ui:SymbolIcon IosArrowLtr24,
                                                                         Filled=True}" />
                                            </Grid>
                                        </DataTemplate>
                                    </ui:ListView.ItemTemplate>
                                </ui:ListView>
                            </StackPanel>
                        </ScrollViewer>
                        <!--  Button: Add Task  -->
                        <ui:Button
                            Height="36"
                            Margin="0,12,0,0"
                            HorizontalAlignment="Stretch"
                            Command="{Binding AddTaskCommand}"
                            CommandParameter="En progreso">
                            <ui:TextBlock>Add Task</ui:TextBlock>
                        </ui:Button>
                    </StackPanel>
                </ui:Card>

                <!--  Card - Done  -->
                <ui:Card
                    Grid.Column="3"
                    Margin="4"
                    VerticalAlignment="Top">
                    <!--  Background: Card  -->
                    <ui:Card.Background>
                        <SolidColorBrush Opacity="0.30" Color="#002901" />
                    </ui:Card.Background>
                    <!--  BorderColor: Card  -->
                    <ui:Card.BorderBrush>
                        <SolidColorBrush Opacity="0.25" Color="White" />
                    </ui:Card.BorderBrush>
                    <StackPanel>
                        <Grid>
                            <Grid.Background>
                                <SolidColorBrush Opacity="0.45" Color="#001f01" />
                            </Grid.Background>
                            <ui:TextBlock
                                Margin="0,8,0,8"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontSize="24"
                                FontWeight="Bold"
                                Text="DONE" />
                        </Grid>
                        <Separator
                            Height="4"
                            Margin="0,0,0.5,2"
                            Background="AliceBlue"
                            Opacity="0.30" />
                        <!--  Container Task: Done  -->
                        <ScrollViewer MaxHeight="455" HorizontalScrollBarVisibility="Auto">
                            <StackPanel>
                                <StackPanel.Background>
                                    <SolidColorBrush Opacity="0.15" Color="ForestGreen" />
                                </StackPanel.Background>

                                <!--  Dynamic Elements  -->
                                <ui:ListView
                                    Grid.Column="0"
                                    ItemsSource="{Binding DoneTasks}"
                                    SelectedItem="{Binding SelectedTask, Mode=TwoWay}">
                                    <ui:ListView.ItemTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="auto" />
                                                </Grid.ColumnDefinitions>
                                                <ui:Button
                                                    Grid.Column="1"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    HorizontalContentAlignment="Center"
                                                    Command="{Binding Path=DataContext.ContentTaskCommand, ElementName=WorkspacePage}"
                                                    CommandParameter="{Binding}">
                                                    <StackPanel MaxWidth="600">
                                                        <!--  Task name  -->
                                                        <TextBlock
                                                            Grid.Row="0"
                                                            Margin="0,0,8,0"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            FontWeight="Bold"
                                                            Text="{Binding NombreTarea, Mode=OneWay}"
                                                            TextWrapping="Wrap" />

                                                        <!--  Task Tags  -->
                                                        <ItemsControl
                                                            Grid.Row="1"
                                                            Margin="0,8,0,8"
                                                            ItemsSource="{Binding EtiquetasTarea, Mode=OneWay}">
                                                            <ItemsControl.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <StackPanel Orientation="Horizontal" />
                                                                </ItemsPanelTemplate>
                                                            </ItemsControl.ItemsPanel>
                                                            <ItemsControl.ItemTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock
                                                                        Margin="0,0,4,0"
                                                                        HorizontalAlignment="Left"
                                                                        FontSize="12"
                                                                        Foreground="LightBlue">
                                                                        <TextBlock.Text>
                                                                            <MultiBinding StringFormat="{}#{0}">
                                                                                <Binding />
                                                                            </MultiBinding>
                                                                        </TextBlock.Text>
                                                                    </TextBlock>
                                                                </DataTemplate>
                                                            </ItemsControl.ItemTemplate>
                                                        </ItemsControl>
                                                    </StackPanel>
                                                </ui:Button>
                                                <ui:Button
                                                    Grid.Column="0"
                                                    Margin="0,0,4,0"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    HorizontalContentAlignment="Center"
                                                    Icon="{ui:SymbolIcon IosArrowLtr24,
                                                                         Filled=True}" />
                                            </Grid>
                                        </DataTemplate>
                                    </ui:ListView.ItemTemplate>
                                </ui:ListView>
                            </StackPanel>
                        </ScrollViewer>
                        <!--  Button: Add Task  -->
                        <ui:Button
                            Height="36"
                            Margin="0,12,0,0"
                            HorizontalAlignment="Stretch"
                            Command="{Binding AddTaskCommand}"
                            CommandParameter="Completado">
                            <ui:TextBlock>Add Task</ui:TextBlock>
                        </ui:Button>
                    </StackPanel>
                </ui:Card>
            </Grid>
        </StackPanel>
    </Border>
</Page>
